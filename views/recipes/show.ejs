<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= recipe.name %> - CookBook</title>
  <link rel="stylesheet" href="/css/main.css">
</head>
<body>
  <%- include('../partials/_navbar.ejs') %>
  <div class="container recipe-show-container">
    <div class="recipe-header">
      <h1><%= recipe.name %></h1>
      <div class="recipe-actions">
        <a href="/recipes/<%= recipe._id %>/edit" class="btn-edit">Edit Recipe</a>
        <form action="/recipes/<%= recipe._id %>?_method=DELETE" method="POST" class="delete-form">
          <button type="submit" class="btn-delete" onclick="return confirm('Are you sure you want to delete this recipe?')">Delete Recipe</button>
        </form>
      </div>
    </div>
    
    <div class="recipe-content">
      <div class="recipe-section">
        <h2>Ingredients</h2>
        <% if (recipe.ingredients && recipe.ingredients.length > 0) { %>
          <ul class="ingredients-list">
            <% recipe.ingredients.forEach(ingredient => { %>
              <li><%= ingredient.name %></li>
            <% }) %>
          </ul>
        <% } else { %>
          <p class="no-items">No ingredients added yet.</p>
        <% } %>
      </div>
      
      <div class="recipe-section">
        <h2>Instructions</h2>
        <% if (recipe.instructions && recipe.instructions.trim()) { %>
          <div class="instructions">
            <%= recipe.instructions %>
          </div>
        <% } else { %>
          <p class="no-items">No instructions added yet.</p>
        <% } %>
      </div>
    </div>
    
    <div class="back-link">
      <a href="/recipes" class="btn-back">‚Üê Back to My Recipes</a>
    </div>
  </div>
</body>
</html>